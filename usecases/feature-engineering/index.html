<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Feature engineering | openEO Platform Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="One of the most important properties for a future-oriented platform on earth observation is the orientation towards simple operation, with a special focus on efficiency of evaluation and availability. Complexity is kept hidden in the background to direct your focus on the data. This is done on one hand by the use of an aggregate API to access the infrastructure, but also by improved user-faced graphical processing. For access to the API, the user has the option to incorporate his own preferences, by choosing between several clients.">
    
    <link rel="preload" href="/assets/css/0.styles.23029b07.css" as="style"><link rel="preload" href="/assets/js/app.ea933438.js" as="script"><link rel="preload" href="/assets/js/17.9552cda7.js" as="script"><link rel="preload" href="/assets/js/12.1e39532f.js" as="script"><link rel="preload" href="/assets/js/45.de223abe.js" as="script"><link rel="preload" href="/assets/js/30.dde3663c.js" as="script"><link rel="prefetch" href="/assets/js/1.a7ac24ee.js"><link rel="prefetch" href="/assets/js/10.8f2c665b.js"><link rel="prefetch" href="/assets/js/11.8243ec2f.js"><link rel="prefetch" href="/assets/js/13.f19c1d75.js"><link rel="prefetch" href="/assets/js/14.282ee68c.js"><link rel="prefetch" href="/assets/js/15.e34499ac.js"><link rel="prefetch" href="/assets/js/16.8e48c934.js"><link rel="prefetch" href="/assets/js/18.adbf6725.js"><link rel="prefetch" href="/assets/js/19.01f1e7a1.js"><link rel="prefetch" href="/assets/js/2.5e2002ba.js"><link rel="prefetch" href="/assets/js/20.63e98340.js"><link rel="prefetch" href="/assets/js/21.05f21aa6.js"><link rel="prefetch" href="/assets/js/22.920dbc2c.js"><link rel="prefetch" href="/assets/js/23.d500975f.js"><link rel="prefetch" href="/assets/js/24.84e7e2de.js"><link rel="prefetch" href="/assets/js/25.96800847.js"><link rel="prefetch" href="/assets/js/26.a69e0a34.js"><link rel="prefetch" href="/assets/js/27.9005eb0f.js"><link rel="prefetch" href="/assets/js/28.f1e5696e.js"><link rel="prefetch" href="/assets/js/29.dcd7233e.js"><link rel="prefetch" href="/assets/js/3.7cf0fa53.js"><link rel="prefetch" href="/assets/js/31.7d867fac.js"><link rel="prefetch" href="/assets/js/32.842059a5.js"><link rel="prefetch" href="/assets/js/33.790a389b.js"><link rel="prefetch" href="/assets/js/34.65c9fe50.js"><link rel="prefetch" href="/assets/js/35.bc306637.js"><link rel="prefetch" href="/assets/js/36.7dc91e07.js"><link rel="prefetch" href="/assets/js/37.a4e1ec50.js"><link rel="prefetch" href="/assets/js/38.4bddb2ed.js"><link rel="prefetch" href="/assets/js/39.81c51b5d.js"><link rel="prefetch" href="/assets/js/4.31ac0060.js"><link rel="prefetch" href="/assets/js/40.b08d6524.js"><link rel="prefetch" href="/assets/js/41.6943e927.js"><link rel="prefetch" href="/assets/js/42.a9eb6990.js"><link rel="prefetch" href="/assets/js/43.e686a0f4.js"><link rel="prefetch" href="/assets/js/44.a0fcdca3.js"><link rel="prefetch" href="/assets/js/46.08c5a686.js"><link rel="prefetch" href="/assets/js/47.4e660531.js"><link rel="prefetch" href="/assets/js/5.243eb440.js"><link rel="prefetch" href="/assets/js/6.3a066917.js"><link rel="prefetch" href="/assets/js/7.2c16d11b.js"><link rel="prefetch" href="/assets/js/8.15268b79.js">
    <link rel="stylesheet" href="/assets/css/0.styles.23029b07.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://openeo.cloud/wp-content/themes/openeo_platform/images/logo-pages.svg" alt="openEO Platform Documentation" class="logo"> <span class="site-name can-hide">openEO Platform Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Start
</a></div><div class="nav-item"><a href="/data-collections/" class="nav-link">
  Data Collections
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Get Started" class="dropdown-title"><span class="title">Get Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Get Started" class="mobile-dropdown-title"><span class="title">Get Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/datacubes.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data Cubes
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Client Libraries
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/getting-started/python/" class="nav-link">
  Python
</a></li></ul></li><li class="dropdown-item"><h4>
          Development Environments
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/jupyterlab/" class="nav-link">
  JupyterLab (Python)
</a></li><li class="dropdown-subitem"><a href="/getting-started/editor/" class="nav-link">
  Editor
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/authentication/" class="nav-link">
  Authentication
</a></li><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use Cases" class="dropdown-title"><span class="title">Use Cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use Cases" class="mobile-dropdown-title"><span class="title">Use Cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Analysis-Ready Data (ARD)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/usecases/ard/" class="nav-link">
  Overview
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/sar/" class="nav-link">
  SAR (Sentinel-1)
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/msi/" class="nav-link">
  Multi-Spectral Imagery
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/usecases/feature-engineering/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Feature Engineering
</a></li><li class="dropdown-item"><!----> <a href="/usecases/forest-change-detection/" class="nav-link">
  Forest Change Detection
</a></li></ul></div></div><div class="nav-item"><a href="/processes/" class="nav-link">
  Processes
</a></div><div class="nav-item"><a href="/file-formats/" class="nav-link">
  File Formats
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Advanced" class="dropdown-title"><span class="title">Advanced</span> <span class="arrow down"></span></button> <button type="button" aria-label="Advanced" class="mobile-dropdown-title"><span class="title">Advanced</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/federation/" class="nav-link">
  Federation Aspects
</a></li><li class="dropdown-item"><!----> <a href="/api/" class="nav-link">
  HTTP API
</a></li></ul></div></div><div class="nav-item"><a href="https://openeo.cloud/contact/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://openeo.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  openeo.cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Start
</a></div><div class="nav-item"><a href="/data-collections/" class="nav-link">
  Data Collections
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Get Started" class="dropdown-title"><span class="title">Get Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Get Started" class="mobile-dropdown-title"><span class="title">Get Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/datacubes.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data Cubes
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Client Libraries
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/getting-started/python/" class="nav-link">
  Python
</a></li></ul></li><li class="dropdown-item"><h4>
          Development Environments
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/getting-started/jupyterlab/" class="nav-link">
  JupyterLab (Python)
</a></li><li class="dropdown-subitem"><a href="/getting-started/editor/" class="nav-link">
  Editor
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/authentication/" class="nav-link">
  Authentication
</a></li><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use Cases" class="dropdown-title"><span class="title">Use Cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use Cases" class="mobile-dropdown-title"><span class="title">Use Cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://openeo.org/documentation/1.0/cookbook/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cookbook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Analysis-Ready Data (ARD)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/usecases/ard/" class="nav-link">
  Overview
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/sar/" class="nav-link">
  SAR (Sentinel-1)
</a></li><li class="dropdown-subitem"><a href="/usecases/ard/msi/" class="nav-link">
  Multi-Spectral Imagery
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/usecases/feature-engineering/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Feature Engineering
</a></li><li class="dropdown-item"><!----> <a href="/usecases/forest-change-detection/" class="nav-link">
  Forest Change Detection
</a></li></ul></div></div><div class="nav-item"><a href="/processes/" class="nav-link">
  Processes
</a></div><div class="nav-item"><a href="/file-formats/" class="nav-link">
  File Formats
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Advanced" class="dropdown-title"><span class="title">Advanced</span> <span class="arrow down"></span></button> <button type="button" aria-label="Advanced" class="mobile-dropdown-title"><span class="title">Advanced</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/federation/" class="nav-link">
  Federation Aspects
</a></li><li class="dropdown-item"><!----> <a href="/api/" class="nav-link">
  HTTP API
</a></li></ul></div></div><div class="nav-item"><a href="https://openeo.cloud/contact/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://openeo.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  openeo.cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Feature engineering</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/usecases/feature-engineering/#data-preparation" class="sidebar-link">Data preparation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/usecases/feature-engineering/#computing-statistics-over-time" class="sidebar-link">Computing statistics over time</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="feature-engineering"><a href="#feature-engineering" class="header-anchor">#</a> Feature engineering</h1> <p>Feature engineering refers to extracting a number of discriminative features from a single pixel timeseries or even
a time series of EO data tiles. These features then allow an expert rule-based decision approach to classify pixels, or
to train a model using techniques such as random forest or neural networks for classification.</p> <p>Concrete examples of such features include simple things such as the percentiles or standard deviation of a vegetation index or band value,
the mean value for given month, or more advanced cases such as phenological or texture information.</p> <p>In general, data scientists like to explore the usefulness of a given feature set for a use case, or may even
define new features. In some cases, the openEO processes will allow computing them, and in others, a 'user defined
function' may be used to compute features that are not directly supported in openEO.</p> <p>In this section, we will show how to combine openEO functionality into a basic feature engineering pipeline.</p> <h2 id="data-preparation"><a href="#data-preparation" class="header-anchor">#</a> Data preparation</h2> <p>To correctly compute and use statistics over a timeseries, gap-free composites
at fixed timesteps are necessary.
The goal of temporal aggregation is to create gap-free composites, at equidistant temporal intervals.
In the case of optical data, it is often cloudmasked before this step, which introduces a lot of gaps (&quot;no-data&quot; values).</p> <p>Example:</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># Create monthly composite</span>
composite <span class="token operator">=</span> sentinel2_cube<span class="token punctuation">.</span>aggregate_temporal_period<span class="token punctuation">(</span>
    period <span class="token operator">=</span> <span class="token string">&quot;month&quot;</span><span class="token punctuation">,</span>
    reducer <span class="token operator">=</span> <span class="token string">&quot;mean&quot;</span>
<span class="token punctuation">)</span>
<span class="token comment"># Fill gaps with linear interpolation</span>
interpolated <span class="token operator">=</span> composite<span class="token punctuation">.</span>apply_dimension<span class="token punctuation">(</span>
    dimension <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span>
    process <span class="token operator">=</span> <span class="token string">&quot;array_interpolate_linear&quot;</span>
<span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Create monthly composite</span>
<span class="token keyword">var</span> <span class="token function-variable function">mean</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> composite <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">aggregate_temporal_period</span><span class="token punctuation">(</span>sentinel2_cube<span class="token punctuation">,</span> <span class="token string">&quot;month&quot;</span><span class="token punctuation">,</span> mean<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Fill gaps with linear interpolation</span>
<span class="token keyword">var</span> interpolated <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">apply_dimension</span><span class="token punctuation">(</span>composite<span class="token punctuation">,</span> <span class="token string">&quot;array_interpolate_linear&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <h2 id="computing-statistics-over-time"><a href="#computing-statistics-over-time" class="header-anchor">#</a> Computing statistics over time</h2> <p>When computing statistics over time, the time dimension is fully reduced per band, and for each band, a number of statistics
can be computed.</p> <p>In this example, we'll compute three quantiles, the mean and the standard deviation for each band.
After computing the actual features, we also make sure to reset band names to meaningful values.</p> <p>The effect of setting <code>target_dimension</code> to <code>bands</code> is that the 'time' dimension is removed, and replaced by the 'bands'
dimension.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Python
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> openeo<span class="token punctuation">.</span>processes <span class="token keyword">import</span> ProcessBuilder<span class="token punctuation">,</span> array_concat

<span class="token keyword">def</span> <span class="token function">compute_features</span><span class="token punctuation">(</span>input_timeseries<span class="token punctuation">:</span> ProcessBuilder<span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">return</span> array_concat<span class="token punctuation">(</span>
       input_timeseries<span class="token punctuation">.</span>quantiles<span class="token punctuation">(</span>probabilities<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span>input_timeseries<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> input_timeseries<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token punctuation">)</span>

features <span class="token operator">=</span> interpolated<span class="token punctuation">.</span>apply_dimension<span class="token punctuation">(</span>
   dimension<span class="token operator">=</span><span class="token string">'t'</span><span class="token punctuation">,</span>
   process<span class="token operator">=</span>compute_features<span class="token punctuation">,</span>
   target_dimension<span class="token operator">=</span><span class="token string">'bands'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

new_band_names <span class="token operator">=</span> <span class="token punctuation">[</span>
   band <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> stat
   <span class="token keyword">for</span> band <span class="token keyword">in</span> interpolated<span class="token punctuation">.</span>metadata<span class="token punctuation">.</span>band_names
   <span class="token keyword">for</span> stat <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">&quot;p10&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;p50&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;p90&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mean&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sd&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>
features <span class="token operator">=</span> features<span class="token punctuation">.</span>rename_labels<span class="token punctuation">(</span><span class="token string">'bands'</span><span class="token punctuation">,</span> new_band_names<span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Create monthly composite</span>
<span class="token keyword">var</span> <span class="token function-variable function">computeFeatures</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">array_concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">quantiles</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sd</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> features <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">apply_dimension</span><span class="token punctuation">(</span>interpolated<span class="token punctuation">,</span> computeFeatures<span class="token punctuation">,</span> <span class="token string">'t'</span><span class="token punctuation">,</span> <span class="token string">'bands'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> collectionBands <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'B1'</span><span class="token punctuation">,</span> <span class="token string">'B2'</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Fill this with the bands you've available in the data cube</span>
<span class="token keyword">var</span> stats <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;p10&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;p50&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;p90&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mean&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sd&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newBandNames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> band <span class="token keyword">of</span> collectionBands<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> stat <span class="token keyword">of</span> stats<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newBandNames<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>band <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> stat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
features <span class="token operator">=</span> features<span class="token punctuation">.</span><span class="token function">rename_labels</span><span class="token punctuation">(</span>features<span class="token punctuation">,</span> <span class="token string">'bands'</span><span class="token punctuation">,</span> newBandNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <p>Now, a complete datacube with features is available for further usage.
To see a fully working example, you can check out
<a href="https://github.com/openEOPlatform/SRR2_notebooks/blob/main/UC3%20-%20Crop%20type%20feature%20engineering%20(rule-based).ipynb" target="_blank" rel="noopener noreferrer">this Python notebook<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/openEOPlatform/documentation/edit/main/usecases/feature-engineering/index.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/6/2021, 6:40:53 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ea933438.js" defer></script><script src="/assets/js/17.9552cda7.js" defer></script><script src="/assets/js/12.1e39532f.js" defer></script><script src="/assets/js/45.de223abe.js" defer></script><script src="/assets/js/30.dde3663c.js" defer></script>
  </body>
</html>
