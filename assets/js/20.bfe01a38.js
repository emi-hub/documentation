(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{235:function(e,t,o){},236:function(e,t,o){},327:function(e,t,o){"use strict";o(235)},328:function(e,t,o){"use strict";o(236)},445:function(e,t,o){"use strict";o.r(t);var n=o(154),l={name:"Collections",components:{Collection:()=>n.a.loadAsyncComponent(Promise.all([o.e(0),o.e(1),o.e(14)]).then(o.bind(null,447))),SearchableList:()=>n.a.loadAsyncComponent(Promise.all([o.e(0),o.e(9)]).then(o.bind(null,280)))},props:{collections:{type:Array,default:()=>[]},mapOptions:{type:Object,default:()=>({})},searchTerm:{type:String,default:null},sort:{type:Boolean,default:!0},offerDetails:{type:Boolean,default:!0},heading:{type:String,default:"Collections"},collapsed:{type:Boolean,default:null},loadAdditionalData:{type:Function,default:null},showKeywords:{type:Boolean,default:!1}},beforeCreate(){n.a.enableHtmlProps(this)},methods:{detailsToggled(...e){this.$emit("detailsToggled",...e)}}},a=(o(327),o(4)),s=Object(a.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vue-component collections"},[o("SearchableList",{attrs:{data:e.collections,identifierKey:"id",summaryKey:"title",keywordsKey:"keywords",showKeywords:e.showKeywords,showSummaryOnExpand:!1,externalSearchTerm:e.searchTerm,sort:e.sort,offerDetails:e.offerDetails,heading:e.heading,collapsed:e.collapsed,loadAdditionalData:e.loadAdditionalData},on:{detailsToggled:e.detailsToggled},scopedSlots:e._u([{key:"heading",fn:function(t){return[e._t("heading",null,null,t)]}},{key:"summary",fn:function(t){return[e._t("summary",null,null,t)]}},{key:"details",fn:function(t){return[o("Collection",{attrs:{data:t.item,mapOptions:e.mapOptions},scopedSlots:e._u([{key:"title",fn:function(){return[o("span",{staticClass:"hidden"})]},proxy:!0},{key:"before-description",fn:function(t){return[e._t("collection-before-description",null,null,t)]}},{key:"end",fn:function(t){return[e._t("collection-end",null,null,t)]}},{key:"spatial-extents",fn:function(t){return[e._t("collection-spatial-extents",null,null,t)]}},{key:"temporal-extents",fn:function(t){return[e._t("collection-temporal-extents",null,null,t)]}}],null,!0)})]}}],null,!0)})],1)}),[],!1,null,null,null).exports;const i=o(185);var r={name:"DataCollections",components:{Collections:s},data:()=>({collections:null,searchTerm:null,mapOptions:{basemap:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/{z}/{x}/{y}?access_token=pk.eyJ1Ijoib3BlbmVvLXBsYXRmb3JtLXd3dSIsImEiOiJja3g0emUzdHIyZ2hpMnVwOGJ2ZmE1OWpoIn0.7IBhFVs-X2Glb0QHUq8riA",attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>'}}),async mounted(){const e=new URLSearchParams(window.location.search).get("q");"string"==typeof e&&e.length>0&&(this.searchTerm=e);let t=await i("https://openeocloud.vito.be/openeo/1.0.0/collections");this.collections=t.data.collections},methods:{loadCollection:async(e,t)=>(await i("https://openeocloud.vito.be/openeo/1.0.0/collections/"+t)).data,hasPreview(e){if(n.a.isObject(e)&&Array.isArray(e.links)){let t=e.links.find(e=>n.a.isObject(e)&&"string"==typeof e.rel&&["xyz","wmts"].includes(e.rel.toLowerCase()));return Boolean(t)}return!1}}},c=(o(328),Object(a.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[e.collections?o("Collections",{attrs:{collections:e.collections,showKeywords:!0,searchTerm:e.searchTerm,loadAdditionalData:e.loadCollection,mapOptions:e.mapOptions},scopedSlots:e._u([{key:"collection-before-description",fn:function(t){return[e.hasPreview(t.data)?o("form",{staticClass:"editor-preview",attrs:{target:"_blank",action:"https://editor.openeo.cloud"}},[o("input",{attrs:{type:"hidden",name:"preview-collection"},domProps:{value:t.data.id}}),e._v(" "),o("button",{attrs:{type:"submit"}},[e._v("Show Preview in openEO Platform Editor")])]):e._e()]}}])}):o("p",[e._v("Loading data...")])],1)}),[],!1,null,"1a7d75ea",null));t.default=c.exports}}]);