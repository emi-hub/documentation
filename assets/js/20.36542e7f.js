(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{236:function(e,t,n){},237:function(e,t,n){},330:function(e,t,n){"use strict";n(236)},331:function(e,t,n){"use strict";n(237)},452:function(e,t,n){"use strict";n.r(t);var o=n(154),l=n(156),a={name:"Collections",components:{Collection:()=>o.a.loadAsyncComponent(Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,454))),SearchableList:()=>o.a.loadAsyncComponent(Promise.all([n.e(0),n.e(9)]).then(n.bind(null,283)))},mixins:[l.a],props:{collections:{type:Array,default:()=>[]},mapOptions:{type:Object,default:()=>({})},searchTerm:{type:String,default:null},sort:{type:Boolean,default:!0},offerDetails:{type:Boolean,default:!0},heading:{type:String,default:"Collections"},collapsed:{type:Boolean,default:null},loadAdditionalData:{type:Function,default:null},showKeywords:{type:Boolean,default:!1},missing:{type:Array,default:null},...l.a.props},beforeCreate(){o.a.enableHtmlProps(this)},methods:{detailsToggled(...e){this.$emit("detailsToggled",...e)}}},i=(n(330),n(4)),s=Object(i.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-component collections"},[n("SearchableList",{attrs:{data:e.collections,identifierKey:"id",summaryKey:"title",keywordsKey:"keywords",showKeywords:e.showKeywords,showSummaryOnExpand:!1,externalSearchTerm:e.searchTerm,sort:e.sort,offerDetails:e.offerDetails,heading:e.heading,collapsed:e.collapsed,loadAdditionalData:e.loadAdditionalData},on:{detailsToggled:e.detailsToggled},scopedSlots:e._u([{key:"heading",fn:function(t){return[e._t("heading",null,null,t)]}},e.missing?{key:"content-start",fn:function(){return[n("FederationMissingNotice",{attrs:{missing:e.missing,federation:e.federation}})]},proxy:!0}:null,{key:"summary",fn:function(t){return[e._t("summary",null,null,t)]}},{key:"details",fn:function(t){return[n("Collection",{attrs:{data:t.item,mapOptions:e.mapOptions,federation:e.federation},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"hidden"})]},proxy:!0},{key:"before-description",fn:function(t){return[e._t("collection-before-description",null,null,t)]}},{key:"end",fn:function(t){return[e._t("collection-end",null,null,t)]}},{key:"spatial-extents",fn:function(t){return[e._t("collection-spatial-extents",null,null,t)]}},{key:"temporal-extents",fn:function(t){return[e._t("collection-temporal-extents",null,null,t)]}}],null,!0)})]}}],null,!0)})],1)}),[],!1,null,null,null).exports;const r=n(185);var c={name:"DataCollections",components:{Collections:s},data:()=>({collections:null,searchTerm:null,mapOptions:{basemap:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/{z}/{x}/{y}?access_token=pk.eyJ1Ijoib3BlbmVvLXBsYXRmb3JtLXd3dSIsImEiOiJja3g0emUzdHIyZ2hpMnVwOGJ2ZmE1OWpoIn0.7IBhFVs-X2Glb0QHUq8riA",attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>'}}),async mounted(){const e=new URLSearchParams(window.location.search).get("q");"string"==typeof e&&e.length>0&&(this.searchTerm=e);let t=await r("https://openeocloud.vito.be/openeo/1.0.0/collections");this.collections=t.data.collections},methods:{loadCollection:async(e,t)=>(await r("https://openeocloud.vito.be/openeo/1.0.0/collections/"+t)).data,hasPreview(e){if(o.a.isObject(e)&&Array.isArray(e.links)){let t=e.links.find(e=>o.a.isObject(e)&&"string"==typeof e.rel&&["xyz","wmts"].includes(e.rel.toLowerCase()));return Boolean(t)}return!1}}},d=(n(331),Object(i.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.collections?n("Collections",{attrs:{collections:e.collections,showKeywords:!0,searchTerm:e.searchTerm,loadAdditionalData:e.loadCollection,mapOptions:e.mapOptions,heading:"Data Collections"},scopedSlots:e._u([{key:"collection-before-description",fn:function(t){return[e.hasPreview(t.data)?n("form",{staticClass:"editor-preview",attrs:{target:"_blank",action:"https://editor.openeo.cloud"}},[n("input",{attrs:{type:"hidden",name:"preview-collection"},domProps:{value:t.data.id}}),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("Show Preview in openEO Platform Editor")])]):e._e()]}}])}):n("p",[e._v("Loading data...")])],1)}),[],!1,null,"7078f05a",null));t.default=d.exports}}]);