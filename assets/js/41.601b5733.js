(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{466:function(e,t,a){"use strict";a.r(t);var r=a(4),i=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"federation-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#federation-api"}},[e._v("#")]),e._v(" Federation API")]),e._v(" "),a("p",[e._v("The general contract is the "),a("a",{attrs:{href:"https://api.openeo.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("openEO API"),a("OutboundLink")],1),e._v(" in the latest stable version of the 1.x branch.")]),e._v(" "),a("p",[e._v('The aggregator that proxies the back-ends in the federation also implements the same API, but it also implements the "Federation Extension" (currently in draft state).')]),e._v(" "),a("h2",{attrs:{id:"authentication-and-authorization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication-and-authorization"}},[e._v("#")]),e._v(" Authentication and authorization")]),e._v(" "),a("p",[e._v("This important aspect of the federation is standardized by the "),a("a",{attrs:{href:"https://aarc-project.eu/architecture/",target:"_blank",rel:"noopener noreferrer"}},[e._v("AARC Blueprint Architecture"),a("OutboundLink")],1),e._v(". EGI checkin is the concrete implementation that is currently in use.")]),e._v(" "),a("h3",{attrs:{id:"authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication"}},[e._v("#")]),e._v(" Authentication")]),e._v(" "),a("p",[e._v("The openEO platform federation standardizes on the use of "),a("a",{attrs:{href:"https://aai.egi.eu",target:"_blank",rel:"noopener noreferrer"}},[e._v("EGI checkin"),a("OutboundLink")],1),e._v(" as identity provider. Backends have to support the use of openID connect + PKCE, to enable this and register a client with EGI checkin.")]),e._v(" "),a("h2",{attrs:{id:"authorization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authorization"}},[e._v("#")]),e._v(" Authorization")]),e._v(" "),a("h3",{attrs:{id:"entitlements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entitlements"}},[e._v("#")]),e._v(" Entitlements")]),e._v(" "),a("p",[e._v("Users of the federation are organized under the 'vo.openeo.cloud' virtual organization in EGI checkin. Inside the virtual organization, different roles can be assigned to a user, to indicate that they have a certain subscription, or even on a more fine-grained level are entitled to specific actions or resources.\nThe mechanism to check this, is again supported by EGI checkin, under the 'eduperson_entitlement' claim: https://docs.egi.eu/providers/check-in/sp/#claims")]),e._v(" "),a("h3",{attrs:{id:"credits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#credits"}},[e._v("#")]),e._v(" Credits")]),e._v(" "),a("p",[e._v("The second criterium for authorization is based on credits that are available to a user. Credits allow the platform to limit the volume of data access and processing operations that a user can perform during a given time frame. The amount of available credits depends on the subscription.\nWhen the credit balance of a user goes below zero, processing operations can be blocked.")]),e._v(" "),a("h3",{attrs:{id:"aggregator-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aggregator-rules"}},[e._v("#")]),e._v(" Aggregator rules")]),e._v(" "),a("p",[e._v("Based on the subscription and available credits, the aggregator can implement these rules:")]),e._v(" "),a("ol",[a("li",[e._v("Credit checks to block starting of batch jobs, synchronous requests to /result and viewing services.")]),e._v(" "),a("li",[e._v("Rate limiting (TBD)")])]),e._v(" "),a("h3",{attrs:{id:"backend-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#backend-rules"}},[e._v("#")]),e._v(" Backend rules")]),e._v(" "),a("p",[e._v("Some authorization rules will need to be enforced by the backends themselves:")]),e._v(" "),a("ol",[a("li",[e._v("Basic access and access to user specific resources based on subscription role.")]),e._v(" "),a("li",[e._v("Number of concurrent batch jobs")]),e._v(" "),a("li",[e._v("Available processing resources, batch job priorities")]),e._v(" "),a("li",[e._v("Batch job result data volume")]),e._v(" "),a("li",[e._v("Access to restricted collections")])])])}),[],!1,null,null,null);t.default=i.exports}}]);